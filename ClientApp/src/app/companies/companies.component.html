<h2 class="display-3">Companies</h2>

<p *ngIf="!companies"><em>Loading...</em></p>

<div class="commands text-right">   
  <button type="submit" [routerLink]="['/company']" class="btn btn-success">Add a new Company</button>
</div>

<mat-form-field [hidden]="!companies">
  <input matInput (keyup)="loadData($event.target.value)"
         placeholder="Filter by Company Name...">
</mat-form-field>


<table mat-table [dataSource]="companies" class="mat-elevation-z8" [hidden]="!companies" matSort (matSortChange)="loadData()"
       matSortActive="{{defaultSortColumn}}" matSortDirection="{{defaultSortOrder}}">
  <!--companyId Column-->
  <ng-container matColumnDef="companyId">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Company ID</th>
    <td mat-cell *matCellDef="let company">
      {{company.companyId}}
    </td>
  </ng-container>
  <!--Company Name Column-->
  <ng-container matColumnDef="CompanyName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Company</th>
    <td mat-cell *matCellDef="let company"><a [routerLink]="['/company', company.companyId]">{{company.companyName}}</a></td>
  </ng-container>
  <!--Adress Column-->
  <!--<ng-container matColumnDef="Address">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Address</th>
    <td mat-cell *matCellDef="let company">{{company.companyId}}</td>
  </ng-container>-->
  <!--City Column-->
  <!--<ng-container matColumnDef="City">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>City</th>
    <td mat-cell *matCellDef="let company">{{company.companyId}}</td>
  </ng-container>-->
  <!--State Column-->
  <!--<ng-container matColumnDef="State">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>State</th>
    <td mat-cell *matCellDef="let company">{{company.companyId}}</td>
  </ng-container>-->
  <!--Zip Column-->
  <!--<ng-container matColumnDef="Zip">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Zip</th>
    <td mat-cell *matCellDef="let company">{{company.companyId}}</td>
  </ng-container>-->
  <!--Phone Column-->
  <!--<ng-container matColumnDef="Phone">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Phone</th>
    <td mat-cell *matCellDef="let company">{{company.companyId}}</td>
  </ng-container>-->

  <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
</table>

<!--Pagination directive-->
<mat-paginator [hidden]="!companies" (page)="pageEvent = getData($event)" [pageSize]="10" [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
